[2025-07-04 02:31:56.677 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:56.995 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:56.998 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.150 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.151 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.151 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.153 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.153 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 02:31:57.153 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.153 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:31:57.153 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:36:03.965 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:36:04.222 +03:00 ERR] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"Application":"ECommerce.API","Environment":"Development"}
System.IO.IOException: Failed to bind to address https://[::1]:7078: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
 ---> System.Net.Sockets.SocketException (10048): Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-07-04 02:40:26.597 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 02:40:26.800 +03:00 ERR] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"Application":"ECommerce.API","Environment":"Development"}
System.IO.IOException: Failed to bind to address https://[::1]:7078: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
 ---> System.Net.Sockets.SocketException (10048): Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-07-04 10:29:35.928 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 10:29:36.087 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.330 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.332 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.449 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.449 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.450 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.451 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.451 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:29:36.452 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.452 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:36.452 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:29:50.637 +03:00 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:41:43.167 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 10:41:43.308 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:41:43.566 +03:00 ERR] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"Application":"ECommerce.API","Environment":"Development"}
System.IO.IOException: Failed to bind to address https://[::1]:7078: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
 ---> System.Net.Sockets.SocketException (10048): Normal olarak her yuva adresi (iletişim kuralı/ağ adresi/bağlantı noktası) için yalnızca bir kullanıma izin veriliyor.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-07-04 10:42:13.469 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 10:42:13.578 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.727 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.729 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.767 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.767 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.767 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.768 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.769 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:42:13.769 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.769 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:13.770 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.351 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.550 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.551 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.589 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.589 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.589 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.590 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.590 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:42:40.590 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.591 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:40.591 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:42:52.875 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Health responded 200 in 53.8704 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"c2912c3d-0a5f-455f-afaf-0e60916a6acd","RequestId":"0HNDQPPFMVAKF:00000013","ConnectionId":"0HNDQPPFMVAKF","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:43:47.821 +03:00 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.243 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.432 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.433 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.470 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.470 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.470 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.471 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.472 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:49:56.472 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.472 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:49:56.473 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:50:10.611 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Health/detailed responded 200 in 35.6984 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"5e2f6534-4881-4e52-a2ea-7842caf9adc3","RequestId":"0HNDQPTG9K8GH:00000009","ConnectionId":"0HNDQPTG9K8GH","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:12.796 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.016 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.019 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.055 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.055 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.056 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.057 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.057 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:53:13.057 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.057 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:53:13.058 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.653 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.834 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.836 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.942 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.942 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.942 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.943 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.944 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 10:55:56.944 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.944 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 10:55:56.944 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:46.974 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.214 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.216 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.348 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.349 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.349 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.350 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.350 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:30:47.350 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.350 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:30:47.350 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:31:12.824 +03:00 INF] ECommerce.API.Controllers.AuthController: Login request received for user user123 CorrelationId: feae8d57-2a6d-417c-9510-4714fc3b404b {"ActionId":"9ccd64f9-e02a-477b-90ec-9afd3a06e9cb","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQQKF4A0VA:00000009","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQQKF4A0VA","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:31:12.827 +03:00 INF] ECommerce.Application.Services.AuthService: Login attempt for user user123. CorrelationId: feae8d57-2a6d-417c-9510-4714fc3b404b {"ActionId":"9ccd64f9-e02a-477b-90ec-9afd3a06e9cb","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQQKF4A0VA:00000009","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQQKF4A0VA","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:31:12.862 +03:00 INF] ECommerce.Application.Services.AuthService: Login successful for user user123. CorrelationId: feae8d57-2a6d-417c-9510-4714fc3b404b {"ActionId":"9ccd64f9-e02a-477b-90ec-9afd3a06e9cb","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQQKF4A0VA:00000009","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQQKF4A0VA","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:31:12.893 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Auth/login responded 200 in 117.2726 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"feae8d57-2a6d-417c-9510-4714fc3b404b","RequestId":"0HNDQQKF4A0VA:00000009","ConnectionId":"0HNDQQKF4A0VA","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:31:39.616 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to establish RabbitMQ connection {"ActionId":"ceb1423f-7542-4375-a14e-958f2ddc0689","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQKF4A0VA:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQKF4A0VA","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher..ctor(IConfiguration configuration, ILogger`1 logger) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 28
[2025-07-04 11:32:31.547 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.806 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.807 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.924 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.924 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.924 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.925 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.926 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:32:31.926 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.926 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:31.926 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.264 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.462 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.464 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.504 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.505 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.505 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.506 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.506 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:32:39.507 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.507 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:32:39.507 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:33:05.000 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Auth/validate responded 200 in 160.7554 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"6cf77d89-998c-40aa-8046-325ea4f1c403","UserId":"user123","RequestId":"0HNDQQLFAN6I9:00000009","ConnectionId":"0HNDQQLFAN6I9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:33:18.888 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to establish RabbitMQ connection {"ActionId":"8a7c6bce-8906-43b0-895a-222e037582e2","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQLFAN6I9:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQLFAN6I9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher..ctor(IConfiguration configuration, ILogger`1 logger) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 28
[2025-07-04 11:33:51.029 +03:00 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 500 in 37653.9137 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"831d10df-7744-424f-a1a2-4baa8f52ed3c","UserId":"user123","ActionId":"8a7c6bce-8906-43b0-895a-222e037582e2","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQLFAN6I9:0000000B","ConnectionId":"0HNDQQLFAN6I9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher..ctor(IConfiguration configuration, ILogger`1 logger) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 28
   at InvokeStub_RabbitMQPublisher..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
[2025-07-04 11:33:51.060 +03:00 ERR] ECommerce.API.Middleware.GlobalExceptionMiddleware: Unhandled exception occurred. Method: GET, Path: /api/Orders/user123, CorrelationId: 831d10df-7744-424f-a1a2-4baa8f52ed3c {"RequestId":"0HNDQQLFAN6I9:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQLFAN6I9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher..ctor(IConfiguration configuration, ILogger`1 logger) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 28
   at InvokeStub_RabbitMQPublisher..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerce.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Projects\KodiksCase\src\ECommerce.API\Middleware\GlobalExceptionMiddleware.cs:line 28
[2025-07-04 11:39:29.851 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.205 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.207 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.345 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.345 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.346 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.348 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.349 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:39:30.349 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.349 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:39:30.349 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.131 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.442 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.457 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 187a608d-5ab9-44e4-8beb-736bc18a5ee6 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.459 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 187a608d-5ab9-44e4-8beb-736bc18a5ee6 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.807 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database 'ecommerce_dev_db' on server 'tcp://localhost:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:18.832 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres
[2025-07-04 11:40:19.059 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: 187a608d-5ab9-44e4-8beb-736bc18a5ee6 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres
[2025-07-04 11:40:19.143 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 1030.1350 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"187a608d-5ab9-44e4-8beb-736bc18a5ee6","UserId":"user123","ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:00000009","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:19.158 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQPEI3IH8:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.731 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.732 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 63e47e0e-b04a-4dc4-a048-22f5131cf073 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.733 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 63e47e0e-b04a-4dc4-a048-22f5131cf073 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.803 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database 'ecommerce_dev_db' on server 'tcp://localhost:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.806 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres
[2025-07-04 11:40:27.983 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: 63e47e0e-b04a-4dc4-a048-22f5131cf073 {"ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 3D000: database "ecommerce_dev_db" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "ecommerce_dev_db" does not exist
    File: postinit.c
    Line: 948
    Routine: InitPostgres
[2025-07-04 11:40:27.993 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 262.7688 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"63e47e0e-b04a-4dc4-a048-22f5131cf073","UserId":"user123","ActionId":"d46bfbe5-00f4-445e-a1c2-bd6f6e4915aa","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQPEI3IH8:0000000B","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:40:27.994 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQPEI3IH8:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQPEI3IH8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.190 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.301 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.463 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.463 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.597 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.597 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.597 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.598 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.599 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:41:37.599 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.599 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:37.599 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:45.684 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:45.922 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:45.939 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 7a52b171-f7eb-424b-9696-8afeafaad425 {"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:45.941 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 7a52b171-f7eb-424b-9696-8afeafaad425 {"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:46.322 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (32ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."PaymentMethod", o."ProductId", o."Quantity", o."Status", o."UpdatedAt", o."UserId"
FROM "Orders" AS o
WHERE o."UserId" = @__userId_0
ORDER BY o."CreatedAt" DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:46.352 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:41:46.489 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: 7a52b171-f7eb-424b-9696-8afeafaad425 {"ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:41:46.551 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 879.0402 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"7a52b171-f7eb-424b-9696-8afeafaad425","UserId":"user123","ActionId":"73c57aa2-b21a-42f5-bec4-e84910045cb7","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQDQPNG8:00000001","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:46.571 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQQDQPNG8:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQDQPNG8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.595 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.707 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.866 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.866 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.908 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.909 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.909 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.910 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.911 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:41:57.911 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.911 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:41:57.911 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:00.955 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.195 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.214 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: ebb3e36a-6db5-455f-b6fe-6e69a9b13e11 {"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.216 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: ebb3e36a-6db5-455f-b6fe-6e69a9b13e11 {"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.525 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (21ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."PaymentMethod", o."ProductId", o."Quantity", o."Status", o."UpdatedAt", o."UserId"
FROM "Orders" AS o
WHERE o."UserId" = @__userId_0
ORDER BY o."CreatedAt" DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.546 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:42:01.696 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: ebb3e36a-6db5-455f-b6fe-6e69a9b13e11 {"ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:42:01.739 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 805.5545 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"ebb3e36a-6db5-455f-b6fe-6e69a9b13e11","UserId":"user123","ActionId":"a05f1b39-9e48-453c-94e4-55e36dfe8987","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQQICMSB7:00000001","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:42:01.754 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQQICMSB7:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQQICMSB7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:57.498 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
System.Net.Sockets.SocketException (0x00002AF9): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 11:43:57.687 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:57.890 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:57.892 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.030 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.030 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.030 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.031 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.032 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:43:58.032 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.032 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:43:58.032 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:04.048 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:12.317 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:12.320 +03:00 WRN] ECommerce.Infrastructure.Services.RedisCacheService: Redis connection is not available. Cache operations will be skipped. {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:12.331 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: b13897ff-0ac7-45f4-aacd-f2036af073bf {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:12.333 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: b13897ff-0ac7-45f4-aacd-f2036af073bf {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:12.334 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Redis not available, skipping cache get for key user_orders_user123 {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:15.243 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database 'ecommerce_db' on server 'tcp://postgres:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:15.256 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-07-04 11:44:15.549 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: b13897ff-0ac7-45f4-aacd-f2036af073bf {"ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
[2025-07-04 11:44:15.620 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 11594.6981 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"b13897ff-0ac7-45f4-aacd-f2036af073bf","UserId":"user123","ActionId":"1fce51f7-c134-4b48-a544-9b54d052cd85","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQRN2KDRJ:00000001","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:15.640 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQRN2KDRJ:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQRN2KDRJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.038 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
System.Net.Sockets.SocketException (0x00002AF9): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 11:44:35.185 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.454 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.457 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.620 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.621 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.621 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.622 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.623 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:44:35.624 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.624 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:44:35.624 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.281 +03:00 ERR] : An error occurred while migrating the database {"Application":"ECommerce.API","Environment":"Development"}
System.Net.Sockets.SocketException (0x00002AF9): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)
   at ECommerce.API.Configuration.ApplicationBuilderExtensions.ApplyDatabaseMigrations(WebApplication app) in C:\Projects\KodiksCase\src\ECommerce.API\Configuration\ApplicationBuilderExtensions.cs:line 133
[2025-07-04 11:45:19.518 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.715 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.717 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.865 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.865 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.866 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.867 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.867 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:45:19.868 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.868 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:19.868 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.130 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.239 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.414 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.414 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.562 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.563 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.563 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.564 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.565 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:45:40.565 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.565 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:40.565 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:50.743 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:50.951 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:50.983 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 479044c1-be9b-4a82-8fa9-48f4dd1e61e0 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:50.987 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 479044c1-be9b-4a82-8fa9-48f4dd1e61e0 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:51.400 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (37ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."PaymentMethod", o."ProductId", o."Quantity", o."Status", o."UpdatedAt", o."UserId"
FROM "Orders" AS o
WHERE o."UserId" = @__userId_0
ORDER BY o."CreatedAt" DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:51.454 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:45:51.618 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: 479044c1-be9b-4a82-8fa9-48f4dd1e61e0 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:45:51.669 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 948.0451 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"479044c1-be9b-4a82-8fa9-48f4dd1e61e0","UserId":"user123","ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:00000009","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:45:51.685 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQSLVGO81:00000009","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:00.387 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:04.229 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 49dab32b-cc9d-47d6-8203-fe75fba2f962 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:10.648 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 49dab32b-cc9d-47d6-8203-fe75fba2f962 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:24.257 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (13ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."PaymentMethod", o."ProductId", o."Quantity", o."Status", o."UpdatedAt", o."UserId"
FROM "Orders" AS o
WHERE o."UserId" = @__userId_0
ORDER BY o."CreatedAt" DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:24.259 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:48:24.404 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: 49dab32b-cc9d-47d6-8203-fe75fba2f962 {"ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42P01: relation "Orders" does not exist

POSITION: 123
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Orders" does not exist
    Position: 123
    File: parse_relation.c
    Line: 1392
    Routine: parserOpenTable
[2025-07-04 11:48:24.409 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 24022.3184 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"49dab32b-cc9d-47d6-8203-fe75fba2f962","UserId":"user123","ActionId":"410382cd-e890-46cc-b1eb-6731da4f2234","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQQSLVGO81:0000000B","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:48:24.410 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQQSLVGO81:0000000B","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQQSLVGO81","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.268 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.384 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.549 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.549 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.734 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.734 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.734 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.735 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.735 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:51:59.736 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.736 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:51:59.736 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:02.154 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:02.383 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:04.458 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 203776a8-5227-4c4b-9107-11808d013440 {"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:06.576 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 203776a8-5227-4c4b-9107-11808d013440 {"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:08.518 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (32ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."PaymentMethod", o."ProductId", o."Quantity", o."Status", o."UpdatedAt", o."UserId"
FROM orders AS o
WHERE o."UserId" = @__userId_0
ORDER BY o."CreatedAt" DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:52:08.538 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column o.Id does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.Id does not exist
    Hint: Perhaps you meant to reference the column "o.id".
    Position: 8
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"4196e85d-eb83-410d-8849-6456a730c560","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR05HEK30:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR05HEK30","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42703: column o.Id does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.Id does not exist
    Hint: Perhaps you meant to reference the column "o.id".
    Position: 8
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
[2025-07-04 11:56:10.689 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.786 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.935 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.935 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.971 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.971 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.972 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.972 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.973 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 11:56:10.973 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.973 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:10.973 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:16.418 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:16.673 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:19.471 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: dd5d6264-540b-47e4-ad29-29eb5d8a7595 {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:19.910 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: dd5d6264-540b-47e4-ad29-29eb5d8a7595 {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:20.130 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.created_at, o.payment_method, o.product_id, o.quantity, o.status, o.updated_at, o.user_id
FROM orders AS o
WHERE o.user_id = @__userId_0
ORDER BY o.created_at DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:20.146 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
[2025-07-04 11:56:20.287 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: dd5d6264-540b-47e4-ad29-29eb5d8a7595 {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
[2025-07-04 11:56:31.935 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: dd5d6264-540b-47e4-ad29-29eb5d8a7595 {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:36.581 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (33ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.created_at, o.payment_method, o.product_id, o.quantity, o.status, o.updated_at, o.user_id
FROM orders AS o
WHERE o.user_id = @__userId_0
ORDER BY o.created_at DESC {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:36.584 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ECommerce.Infrastructure.Data.ECommerceDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
[2025-07-04 11:56:36.714 +03:00 ERR] ECommerce.Application.Services.OrderService: Error retrieving orders for user user123. CorrelationId: dd5d6264-540b-47e4-ad29-29eb5d8a7595 {"ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
Npgsql.PostgresException (0x80004005): 42703: column o.created_at does not exist

POSITION: 14
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ECommerce.Infrastructure.Repositories.OrderRepository.GetByUserIdAsync(String userId) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Repositories\OrderRepository.cs:line 35
   at ECommerce.Application.Services.OrderService.GetOrdersByUserIdAsync(String userId, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 118
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column o.created_at does not exist
    Hint: Perhaps you meant to reference the column "o.createdat".
    Position: 14
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
[2025-07-04 11:56:36.749 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 400 in 20346.5040 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"dd5d6264-540b-47e4-ad29-29eb5d8a7595","UserId":"user123","ActionId":"91bbf643-78a6-43df-b46a-41da6fac5b78","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQR2HBEHK2:00000001","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 11:56:36.761 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQR2HBEHK2:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQR2HBEHK2","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.114 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.216 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.380 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.380 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.416 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.416 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.416 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.417 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.418 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:18:52.418 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.418 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:52.418 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:57.955 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:18:58.145 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:00.784 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 5e803b0b-b71a-4ace-9938-e7de289f45a2 {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:02.514 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 5e803b0b-b71a-4ace-9938-e7de289f45a2 {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:04.665 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.created_at, o.payment_method, o.product_id, o.quantity, o.status, o.updated_at, o.user_id
FROM orders AS o
WHERE o.user_id = @__userId_0
ORDER BY o.created_at DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:09.390 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully cached value for key user_orders_user123 {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:09.836 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieved 2 orders for user user123. CorrelationId: 5e803b0b-b71a-4ace-9938-e7de289f45a2 {"ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:14.041 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 200 in 16100.2848 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"5e803b0b-b71a-4ace-9938-e7de289f45a2","UserId":"user123","ActionId":"14f97405-f6e7-4dc9-b9f2-fdc2cb0e33bb","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000001","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:14.052 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRF73VM2P:00000001","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:38.596 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"61433dfd-c439-400f-88b1-fd96115c3794","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000003","RequestPath":"/api/Orders/order/product002","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:38.602 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/product002 responded 400 in 17.3927 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"69192c5c-3eeb-417c-8eb2-45f118ac0074","UserId":"user123","RequestId":"0HNDQRF73VM2P:00000003","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:38.602 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRF73VM2P:00000003","RequestPath":"/api/Orders/order/product002","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:19:53.874 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"61433dfd-c439-400f-88b1-fd96115c3794","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000005","RequestPath":"/api/Orders/order/product002","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:11.864 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/product002 responded 400 in 197991.6921 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"7d08d743-29b2-48be-afff-025408c09dd0","UserId":"user123","RequestId":"0HNDQRF73VM2P:00000005","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:11.868 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRF73VM2P:00000005","RequestPath":"/api/Orders/order/product002","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:11.970 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:11.970 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2S:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2S","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:11.977 +03:00 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 500 in 11.0303 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"bf74107d-92f2-4678-94eb-8768b4e16803","UserId":"user123","ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2P:00000007","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
System.IO.IOException: The request stream was aborted.
 ---> Microsoft.AspNetCore.Connections.ConnectionAbortedException: The HTTP/2 connection faulted.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
[2025-07-04 12:23:15.487 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: 1945d4db-da85-4b74-b915-9cc1d98409df {"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2S:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2S","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:22.663 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: 1945d4db-da85-4b74-b915-9cc1d98409df {"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2S:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2S","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:14.761 +03:00 ERR] ECommerce.API.Middleware.GlobalExceptionMiddleware: Unhandled exception occurred. Method: POST, Path: /api/Orders, CorrelationId: bf74107d-92f2-4678-94eb-8768b4e16803 {"RequestId":"0HNDQRF73VM2P:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
System.IO.IOException: The request stream was aborted.
 ---> Microsoft.AspNetCore.Connections.ConnectionAbortedException: The HTTP/2 connection faulted.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerce.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Projects\KodiksCase\src\ECommerce.API\Middleware\GlobalExceptionMiddleware.cs:line 28
[2025-07-04 12:23:22.670 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRF73VM2P:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2P","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:22.827 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2S:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2S","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:23:26.215 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"6fee13da-9c83-498c-a4f2-3576782fc925","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRF73VM2S:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRF73VM2S","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.513 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.670 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.862 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.862 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.909 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.910 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.910 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.911 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.911 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:24:32.911 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.911 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:32.912 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:46.135 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:46.387 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:48.848 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: b2b73d13-6c30-40a6-87e0-68c1133887d7 {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:51.482 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: b2b73d13-6c30-40a6-87e0-68c1133887d7 {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:24:55.762 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:02.079 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.032 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to establish RabbitMQ connection {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.EnsureConnection() in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 49
[2025-07-04 12:25:29.118 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection failed in Development environment. Messages will be logged instead of queued. {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.126 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ not connected. Message will be logged: {"OrderId":"0a45f4cc-1b7e-4af4-a2ff-4e0c9ca17625","UserId":"user123","ProductId":"string","Quantity":15,"PaymentMethod":1,"CreatedAt":"2025-07-04T09:24:53.6718707Z"} to queue order-placed {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.147 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user123 {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.158 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "0a45f4cc-1b7e-4af4-a2ff-4e0c9ca17625", CorrelationId: b2b73d13-6c30-40a6-87e0-68c1133887d7 {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.208 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 43094.3196 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"b2b73d13-6c30-40a6-87e0-68c1133887d7","UserId":"user123","ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLD:00000001","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:29.214 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRIESBRLD:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLD","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:33.475 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:34.938 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: e8e4346f-d463-4e78-ab08-c2061bd20d0a {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:34.939 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: e8e4346f-d463-4e78-ab08-c2061bd20d0a {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:25:34.983 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:26:07.437 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.775 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to establish RabbitMQ connection {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (11001): Bilinen böyle bir ana bilgisayar yok.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimeStamp)
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.EnsureConnection() in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 49
[2025-07-04 12:30:30.931 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection failed in Development environment. Messages will be logged instead of queued. {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.931 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ not connected. Message will be logged: {"OrderId":"d8bc118e-366b-4af7-b82f-4946ca427b23","UserId":"user123","ProductId":"string","Quantity":15,"PaymentMethod":1,"CreatedAt":"2025-07-04T09:25:34.9394115Z"} to queue order-placed {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.933 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user123 {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.937 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "d8bc118e-366b-4af7-b82f-4946ca427b23", CorrelationId: e8e4346f-d463-4e78-ab08-c2061bd20d0a {"ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.939 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 297472.3264 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"e8e4346f-d463-4e78-ab08-c2061bd20d0a","UserId":"user123","ActionId":"6492345b-d288-4273-a4c1-367112107eb7","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRIESBRLE:00000001","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:30.939 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRIESBRLE:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRIESBRLE","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.432 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.534 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.686 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.687 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.723 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.723 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.723 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.724 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.725 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:30:34.725 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.725 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:34.725 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:42.055 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:42.245 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:45.029 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: d94f33de-c863-4ecf-8f82-43521651173a {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:47.118 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: d94f33de-c863-4ecf-8f82-43521651173a {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:47.291 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:49.934 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:54.369 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:56.264 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:30:56.295 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 1/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:30:59.895 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:59.902 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:59.955 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:30:59.966 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:30:59.977 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 2/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:00.181 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.186 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.194 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.205 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:00.215 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 3/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:00.628 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.633 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.645 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.658 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:00.669 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 4/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:00.740 +03:00 ERR] ECommerce.Application.Services.OrderService: Error creating order for user user123. CorrelationId: d94f33de-c863-4ecf-8f82-43521651173a {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishAsync[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 128
   at ECommerce.Application.Services.OrderService.CreateOrderAsync(CreateOrderRequest request, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 72
   at ECommerce.Application.Services.OrderService.CreateOrderAsync(CreateOrderRequest request, String correlationId) in C:\Projects\KodiksCase\src\ECommerce.Application\Services\OrderService.cs:line 88
[2025-07-04 12:31:00.777 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 400 in 18735.5130 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"d94f33de-c863-4ecf-8f82-43521651173a","UserId":"user123","ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000001","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.784 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:00.789 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRLOUEC9M:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:18.797 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:21.245 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: 3442d295-6b87-43a7-9b23-bd233dce2677 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:23.893 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: 3442d295-6b87-43a7-9b23-bd233dce2677 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:27.626 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.687 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.697 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.718 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:30.738 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 1/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:30.841 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.847 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.857 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:30.868 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:30.877 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 2/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:31.088 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.093 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.101 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.113 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:31.122 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 3/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:31:31.537 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.570 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.578 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:31:31.590 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
[2025-07-04 12:31:31.600 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Error publishing message to queue order-placed. Retry 4/3 {"ActionId":"ae385477-b970-48d0-82d8-3b469beb3767","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRLOUEC9M:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRLOUEC9M","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.OperationInterruptedException: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=406, text='PRECONDITION_FAILED - inequivalent arg 'x-message-ttl' for queue 'order-placed' in vhost '/': received the value '86400000' of type 'signedint' but current is none', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 224
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:35:02.639 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:02.743 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:02.902 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:02.902 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.024 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.024 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.024 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.028 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.029 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:35:03.029 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.029 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:03.029 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:06.594 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:06.769 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:10.397 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: abaa112e-6fe3-4d33-be4a-90ba1dce307e {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:13.105 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: abaa112e-6fe3-4d33-be4a-90ba1dce307e {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:16.259 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.037 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.131 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.160 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed does not exist, creating new {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.181 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
[2025-07-04 12:35:18.220 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: Connection closed, attempting to reconnect. Retry 1/3 {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:35:18.335 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.344 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.415 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.427 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed does not exist, creating new {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.436 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
[2025-07-04 12:35:18.446 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: Connection closed, attempting to reconnect. Retry 2/3 {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:35:18.656 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.660 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.670 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.680 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed does not exist, creating new {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:18.689 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
[2025-07-04 12:35:18.699 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: Connection closed, attempting to reconnect. Retry 3/3 {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:35:19.101 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:19.106 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:19.116 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:19.130 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed does not exist, creating new {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:35:19.141 +03:00 ERR] ECommerce.Infrastructure.Services.RabbitMQPublisher: Failed to declare queue order-placed {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
[2025-07-04 12:35:19.151 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: Connection closed, attempting to reconnect. Retry 4/3 {"ActionId":"c6e02a82-1609-4798-9716-49e34d42e10c","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRO7PRNR9:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRO7PRNR9","Application":"ECommerce.API","Environment":"Development"}
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no queue 'order-placed' in vhost '/'', classId=50, methodId=10
   at RabbitMQ.Client.Impl.SessionBase.Transmit(OutgoingCommand& cmd)
   at RabbitMQ.Client.Impl.ModelBase.ModelSend(MethodBase method, ContentHeaderBase header, ReadOnlyMemory`1 body)
   at RabbitMQ.Client.Framing.Impl.Model._Private_QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, Boolean nowait, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean passive, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.ModelBase.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at RabbitMQ.Client.Impl.AutorecoveringModel.QueueDeclare(String queue, Boolean durable, Boolean exclusive, Boolean autoDelete, IDictionary`2 arguments)
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.DeclareQueue(String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 235
   at ECommerce.Infrastructure.Services.RabbitMQPublisher.PublishMessageInternal[T](T message, String queueName) in C:\Projects\KodiksCase\src\ECommerce.Infrastructure\Services\RabbitMQPublisher.cs:line 152
[2025-07-04 12:37:12.545 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.650 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.824 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.824 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.949 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.949 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.949 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.953 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.953 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:37:12.953 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.953 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:12.953 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:14.711 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:14.949 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:17.274 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: af62834d-1a32-48cc-acbc-cb60670dc450 {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:20.182 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: af62834d-1a32-48cc-acbc-cb60670dc450 {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:23.805 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:24.897 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:24.995 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:25.006 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:25.024 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:27.276 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user123 {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:28.896 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "880cde8b-9598-4201-b705-747cbed8d538", CorrelationId: af62834d-1a32-48cc-acbc-cb60670dc450 {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:34.682 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 19997.9583 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"af62834d-1a32-48cc-acbc-cb60670dc450","UserId":"user123","ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000001","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:34.695 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:37:34.702 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:56.306 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:58.608 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: 6c725d26-cace-4441-ac65-b5111465b49d {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.391 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: 6c725d26-cace-4441-ac65-b5111465b49d {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.450 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.452 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.508 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.510 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.517 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.519 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user123 {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:38:59.521 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "f6cb6849-6237-440a-a62b-25514cbd9660", CorrelationId: 6c725d26-cace-4441-ac65-b5111465b49d {"ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:39:03.116 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 6818.0521 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"6c725d26-cace-4441-ac65-b5111465b49d","UserId":"user123","ActionId":"90b319ae-ecb8-4bfb-8ff3-825aa491985f","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000003","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:39:03.119 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:39:03.123 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:02.194 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.532 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get orders request received for user user123 CorrelationId: 48b41553-665a-4c4f-9d19-0dbf91173983 {"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.534 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving orders for user user123. CorrelationId: 48b41553-665a-4c4f-9d19-0dbf91173983 {"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.760 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.created_at, o.payment_method, o.product_id, o.quantity, o.status, o.updated_at, o.user_id
FROM orders AS o
WHERE o.user_id = @__userId_0
ORDER BY o.created_at DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.786 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully cached value for key user_orders_user123 {"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.787 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieved 3 orders for user user123. CorrelationId: 48b41553-665a-4c4f-9d19-0dbf91173983 {"ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.789 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/user123 responded 200 in 7606.6187 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"48b41553-665a-4c4f-9d19-0dbf91173983","UserId":"user123","ActionId":"7f9c36ef-9cef-49e0-8e47-d9b878a73531","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrdersByUserId (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000005","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:09.790 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:00000005","RequestPath":"/api/Orders/user123","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:32.094 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"f3d3d9ad-e945-4863-ad57-94e9b882ac4e","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000007","RequestPath":"/api/Orders/order/%22173b47e7-d03f-4969-bcc7-dbe3b9c3e736%22","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:39.874 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/"173b47e7-d03f-4969-bcc7-dbe3b9c3e736" responded 400 in 7783.7046 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"cd59b498-4037-416a-904e-c57436492fe1","UserId":"user123","RequestId":"0HNDQRPDV89TG:00000007","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:39.905 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:00000007","RequestPath":"/api/Orders/order/%22173b47e7-d03f-4969-bcc7-dbe3b9c3e736%22","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:45.213 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"f3d3d9ad-e945-4863-ad57-94e9b882ac4e","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000009","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:50.092 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get order request received for order 173b47e7-d03f-4969-bcc7-dbe3b9c3e736 CorrelationId: 27e34be9-cc4e-4472-9a6a-9aada12e5a09 {"ActionId":"f3d3d9ad-e945-4863-ad57-94e9b882ac4e","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRPDV89TG:00000009","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:52.926 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736 responded 404 in 7713.5163 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"27e34be9-cc4e-4472-9a6a-9aada12e5a09","UserId":"user123","RequestId":"0HNDQRPDV89TG:00000009","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:40:52.926 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:00000009","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:41:01.845 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"f3d3d9ad-e945-4863-ad57-94e9b882ac4e","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRPDV89TG:0000000B","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:41:06.980 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get order request received for order 173b47e7-d03f-4969-bcc7-dbe3b9c3e736 CorrelationId: fdc7aad8-6f44-4af5-8a81-96d27185c6d9 {"ActionId":"f3d3d9ad-e945-4863-ad57-94e9b882ac4e","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQRPDV89TG:0000000B","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:41:10.939 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736 responded 404 in 9094.0827 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"fdc7aad8-6f44-4af5-8a81-96d27185c6d9","UserId":"user123","RequestId":"0HNDQRPDV89TG:0000000B","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:41:10.940 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQRPDV89TG:0000000B","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQRPDV89TG","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:29.639 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:29.748 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:29.920 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:29.921 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.068 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.069 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.069 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.074 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.074 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:53:30.075 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.075 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:30.075 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.100 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.332 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.345 +03:00 INF] ECommerce.API.Controllers.OrdersController: Get order request received for order 173b47e7-d03f-4969-bcc7-dbe3b9c3e736 CorrelationId: 2f384470-5ac1-4be3-824b-21dc8bc75b40 {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.346 +03:00 INF] ECommerce.Application.Services.OrderService: Retrieving order 173b47e7-d03f-4969-bcc7-dbe3b9c3e736. CorrelationId: 2f384470-5ac1-4be3-824b-21dc8bc75b40 {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.606 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.created_at, o.payment_method, o.product_id, o.quantity, o.status, o.updated_at, o.user_id
FROM orders AS o
WHERE o.id = @__get_Item_0
LIMIT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.698 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully cached value for key order_173b47e7-d03f-4969-bcc7-dbe3b9c3e736 {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.698 +03:00 INF] ECommerce.Application.Services.OrderService: Order 173b47e7-d03f-4969-bcc7-dbe3b9c3e736 retrieved successfully. CorrelationId: 2f384470-5ac1-4be3-824b-21dc8bc75b40 {"ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.725 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736 responded 200 in 639.3834 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"2f384470-5ac1-4be3-824b-21dc8bc75b40","UserId":"user123","ActionId":"51e9d661-a7cd-4182-b6f7-e31a20511cfc","ActionName":"ECommerce.API.Controllers.OrdersController.GetOrderById (ECommerce.API)","RequestId":"0HNDQS2IO6UAQ:00000001","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:37.736 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQS2IO6UAQ:00000001","RequestPath":"/api/Orders/order/173b47e7-d03f-4969-bcc7-dbe3b9c3e736","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:53:55.812 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Health/detailed responded 200 in 7.2265 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"f4b2317d-2cf7-4d6c-99ac-0b116283a866","UserId":"user123","RequestId":"0HNDQS2IO6UAQ:00000003","ConnectionId":"0HNDQS2IO6UAQ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:05.887 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.009 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.200 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.200 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.356 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.357 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.358 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.364 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.365 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:56:06.366 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.366 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:06.366 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.676 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","RequestPath":"/api/Health/detailed","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.710 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully cached value for key health_check_7f33fc3a-5e36-4801-b410-9a299b1472c5 {"ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","RequestPath":"/api/Health/detailed","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.723 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key health_check_7f33fc3a-5e36-4801-b410-9a299b1472c5 {"ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","RequestPath":"/api/Health/detailed","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.725 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","RequestPath":"/api/Health/detailed","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.735 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","RequestPath":"/api/Health/detailed","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:56:17.799 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Health/detailed responded 503 in 388.5631 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"98e00535-785c-40f3-bd06-1e07c5d1e7c8","ActionId":"8dbd5760-43fa-4675-b85e-c4f88e5ed27a","ActionName":"ECommerce.API.Controllers.HealthController.GetDetailedHealth (ECommerce.API)","RequestId":"0HNDQS417E75L:00000009","ConnectionId":"0HNDQS417E75L","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:37.769 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:37.883 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.072 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.072 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.185 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.186 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.186 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.189 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.189 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:58:38.190 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.190 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:38.190 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.050 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.150 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.293 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.294 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.413 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.413 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.413 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.416 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.417 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 12:58:43.417 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.417 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 12:58:43.417 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.386 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.506 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.753 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.753 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.977 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.977 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.977 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.981 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.981 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 13:01:55.981 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.981 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:01:55.982 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:12.433 +03:00 WRN] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents: JWT Challenge triggered: null {"RequestId":"0HNDQS7CAVE9O:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:24.687 +03:00 INF] ECommerce.API.Controllers.AuthController: Login request received for user user123 CorrelationId: 2c470c22-aa96-4eca-9af8-c659576748c5 {"ActionId":"a8e59370-00b3-4240-b466-6f79b3a8165e","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:24.688 +03:00 INF] ECommerce.Application.Services.AuthService: Login attempt for user user123. CorrelationId: 2c470c22-aa96-4eca-9af8-c659576748c5 {"ActionId":"a8e59370-00b3-4240-b466-6f79b3a8165e","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:24.717 +03:00 INF] ECommerce.Application.Services.AuthService: Login successful for user user123. CorrelationId: 2c470c22-aa96-4eca-9af8-c659576748c5 {"ActionId":"a8e59370-00b3-4240-b466-6f79b3a8165e","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:24.745 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Auth/login responded 200 in 92.9399 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"2c470c22-aa96-4eca-9af8-c659576748c5","RequestId":"0HNDQS7CAVE9O:00000003","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:37.240 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000005","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:37.435 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000005","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:37.463 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 400 in 234.7047 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"344c37ba-50c1-49bc-8614-3e7cbde97edb","UserId":"user123","RequestId":"0HNDQS7CAVE9O:00000005","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:37.473 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQS7CAVE9O:00000005","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.628 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.635 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user123 CorrelationId: c29be4ec-42a1-4270-b063-491fcbc832a6 {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.637 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user123. CorrelationId: c29be4ec-42a1-4270-b063-491fcbc832a6 {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.808 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.847 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.972 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.978 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:54.996 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:55.017 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user123 {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:55.028 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "f0adcd32-f6a4-4de6-81ba-df0cee57dd86", CorrelationId: c29be4ec-42a1-4270-b063-491fcbc832a6 {"ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:55.050 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 422.5064 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"c29be4ec-42a1-4270-b063-491fcbc832a6","UserId":"user123","ActionId":"09dae1d3-3620-4b4f-9ad9-6f0f3f803336","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQS7CAVE9O:00000007","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:55.062 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:02:55.070 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQS7CAVE9O:00000007","RequestPath":"/api/Orders","ConnectionId":"0HNDQS7CAVE9O","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:07.868 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:07.983 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.164 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.164 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.202 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.203 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.203 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.204 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.204 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 13:27:08.205 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.205 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:08.205 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:22.781 +03:00 WRN] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents: JWT Challenge triggered: null {"RequestId":"0HNDQSLAH6RT4:00000009","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:35.113 +03:00 INF] ECommerce.API.Controllers.AuthController: Login request received for user user789 CorrelationId: 89ff1c48-14e2-45a9-837b-8dec18425b26 {"ActionId":"02c9e15c-cb01-49fb-bb38-9c7ab20fa0d1","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000B","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:35.115 +03:00 INF] ECommerce.Application.Services.AuthService: Login attempt for user user789. CorrelationId: 89ff1c48-14e2-45a9-837b-8dec18425b26 {"ActionId":"02c9e15c-cb01-49fb-bb38-9c7ab20fa0d1","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000B","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:35.139 +03:00 INF] ECommerce.Application.Services.AuthService: Login successful for user user789. CorrelationId: 89ff1c48-14e2-45a9-837b-8dec18425b26 {"ActionId":"02c9e15c-cb01-49fb-bb38-9c7ab20fa0d1","ActionName":"ECommerce.API.Controllers.AuthController.Login (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000B","RequestPath":"/api/Auth/login","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:35.165 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Auth/login responded 200 in 88.6325 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"89ff1c48-14e2-45a9-837b-8dec18425b26","RequestId":"0HNDQSLAH6RT4:0000000B","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:58.614 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:58.832 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:58.845 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: b18b1880-4bc6-41a2-a90c-3895dd0de50f {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:58.846 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: b18b1880-4bc6-41a2-a90c-3895dd0de50f {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:27:59.038 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:28:12.704 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:28:12.810 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:28:32.025 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:00.937 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:08.020 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:10.963 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "3b25ed84-4d12-4982-ab25-87fe95446bc7", CorrelationId: b18b1880-4bc6-41a2-a90c-3895dd0de50f {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:12.535 +03:00 WRN] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 73940.0908 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"b18b1880-4bc6-41a2-a90c-3895dd0de50f","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT4:0000000D","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:12.545 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:29:12.553 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT4:0000000D","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT4","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:09.484 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:09.486 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: 7e7c9788-226c-465d-abda-9ed0c7938f98 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:09.486 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: 7e7c9788-226c-465d-abda-9ed0c7938f98 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:09.545 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.373 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.441 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.443 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.500 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.503 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.529 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "8276e964-efed-4027-bc7e-cc957dd8f023", CorrelationId: 7e7c9788-226c-465d-abda-9ed0c7938f98 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.531 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 3047.3378 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"7e7c9788-226c-465d-abda-9ed0c7938f98","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT5:00000001","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.534 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:30:12.564 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT5:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT5","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.636 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.638 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: eab5fd2c-1b57-4ed6-9f84-a626a631d94a {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.638 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: eab5fd2c-1b57-4ed6-9f84-a626a631d94a {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.669 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.671 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.680 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.681 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.690 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.692 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.695 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "e807294b-fc57-4922-ab10-ad82fa186359", CorrelationId: eab5fd2c-1b57-4ed6-9f84-a626a631d94a {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.695 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 61.6633 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"eab5fd2c-1b57-4ed6-9f84-a626a631d94a","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT6:00000001","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.697 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:36:55.703 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT6:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT6","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.717 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.718 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: d3495978-7bb9-4b1a-af92-34808764766b {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.718 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: d3495978-7bb9-4b1a-af92-34808764766b {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.723 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.724 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.733 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.735 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.744 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.745 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.748 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "71b2c4ee-6050-4f1d-99bf-f929dfb722e4", CorrelationId: d3495978-7bb9-4b1a-af92-34808764766b {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.749 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 32.3000 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"d3495978-7bb9-4b1a-af92-34808764766b","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT7:00000001","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.751 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:38:46.789 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT7:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT7","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.278 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.279 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: 1e7f2227-e4cb-456a-b9d2-15f486301726 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.279 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: 1e7f2227-e4cb-456a-b9d2-15f486301726 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.284 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.285 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.293 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.294 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.299 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.300 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.303 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "76c59028-41dc-4a16-8285-291ea5e83d2d", CorrelationId: 1e7f2227-e4cb-456a-b9d2-15f486301726 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.304 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 26.5701 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"1e7f2227-e4cb-456a-b9d2-15f486301726","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000001","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.306 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:02.335 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT8:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.830 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.831 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: 8929e6a6-9797-4e14-a3b0-49d359053af0 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.831 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: 8929e6a6-9797-4e14-a3b0-49d359053af0 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.836 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.837 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.891 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.892 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.898 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.899 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.901 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "91493176-9cd7-41b7-ab85-2b277ba2852c", CorrelationId: 8929e6a6-9797-4e14-a3b0-49d359053af0 {"ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.902 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 71.8397 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"8929e6a6-9797-4e14-a3b0-49d359053af0","UserId":"user789","ActionId":"bc13322e-42d1-4726-a140-d120e51ccac5","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSLAH6RT8:00000003","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.904 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:39:04.908 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSLAH6RT8:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSLAH6RT8","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.084 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.189 +03:00 INF] : Starting E-Commerce API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.355 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7078 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.356 +03:00 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5232 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.517 +03:00 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.518 +03:00 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.518 +03:00 INF] Microsoft.Hosting.Lifetime: Content root path: C:\Projects\KodiksCase\src\ECommerce.API {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.522 +03:00 INF] : ===  E-Commerce API Started === {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.523 +03:00 INF] : Environment: Development {"Application":"ECommerce.API"}
[2025-07-04 13:43:56.523 +03:00 INF] : Version: v1.2.0 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.524 +03:00 INF] : Swagger UI: http://localhost:8080 {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:56.524 +03:00 INF] : Health Check: http://localhost:8080/health {"Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:43:59.954 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.153 +03:00 INF] StackExchange.Redis.IConnectionMultiplexer: Redis connection established successfully {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.186 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: 5984ebc4-c3c8-4035-9554-21943c3820d3 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.188 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: 5984ebc4-c3c8-4035-9554-21943c3820d3 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.386 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.447 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.564 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.569 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.589 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.616 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.630 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "394efbfa-5f05-407f-891a-90ec1a3e2ef1", CorrelationId: 5984ebc4-c3c8-4035-9554-21943c3820d3 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.690 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 759.2127 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"5984ebc4-c3c8-4035-9554-21943c3820d3","UserId":"user789","ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000001","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.705 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:00.714 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSUNKCOMJ:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.717 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ Publisher initialized (connection will be established on first use) {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.718 +03:00 INF] ECommerce.API.Controllers.OrdersController: Creating order request received for user user789 CorrelationId: 10e31692-5f62-4bbd-be81-3d5f75a03162 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.719 +03:00 INF] ECommerce.Application.Services.OrderService: Creating order for user user789. CorrelationId: 10e31692-5f62-4bbd-be81-3d5f75a03162 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.768 +03:00 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders (id, created_at, payment_method, product_id, quantity, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING status; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.770 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: Attempting to connect to RabbitMQ... {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.822 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection established successfully {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.824 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Queue order-placed declared successfully {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.829 +03:00 DBG] ECommerce.Infrastructure.Services.RabbitMQPublisher: Message published successfully to queue order-placed. Message type: OrderPlacedEvent {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.831 +03:00 DBG] ECommerce.Infrastructure.Services.RedisCacheService: Successfully removed cache for key user_orders_user789 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.834 +03:00 INF] ECommerce.Application.Services.OrderService: Order created successfully. OrderId: "583f88de-8fcf-450e-bc7a-a9b14d07b209", CorrelationId: 10e31692-5f62-4bbd-be81-3d5f75a03162 {"ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.836 +03:00 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Orders responded 201 in 119.3890 ms {"RequestHost":"localhost:7078","RequestScheme":"https","CorrelationId":"10e31692-5f62-4bbd-be81-3d5f75a03162","UserId":"user789","ActionId":"0bb29499-0875-40ab-b135-d515708fcbc8","ActionName":"ECommerce.API.Controllers.OrdersController.CreateOrder (ECommerce.API)","RequestId":"0HNDQSUNKCOMJ:00000003","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.838 +03:00 WRN] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection shutdown: Goodbye {"RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
[2025-07-04 13:44:57.842 +03:00 INF] ECommerce.Infrastructure.Services.RabbitMQPublisher: RabbitMQ connection disposed successfully {"RequestId":"0HNDQSUNKCOMJ:00000003","RequestPath":"/api/Orders","ConnectionId":"0HNDQSUNKCOMJ","Application":"ECommerce.API","Environment":"Development"}
